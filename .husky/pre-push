#!/usr/bin/env sh

echo "ğŸ•µï¸ Running dependency checksâ€¦"

# Run dependency analyser
echo "â¡ï¸ Running Dependency Analyser..."
vendor/bin/composer-dependency-analyser
ANALYSER_EXIT_CODE=$?

if [ $ANALYSER_EXIT_CODE -ne 0 ]; then
    echo "âŒ Dependency check failed. Please fix the listed issues before pushing again!"
    exit 1
fi

echo "âœ… Dependency checks passed!"
exit 0
